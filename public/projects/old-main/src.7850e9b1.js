parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Kvru":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasRenderer=void 0;var i=function(){function e(n){t(this,e),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.context=n.getContext("2d")}return n(e,[{key:"clear",value:function(){var t=this.context.canvas,e=t.width,n=t.height;this.context.clearRect(0,0,e,n)}},{key:"drawStrokeRect",value:function(t,e,n,i,o){this.context.strokeStyle=o,this.context.lineWidth=3,this.context.save(),this.context.strokeRect(t,e,n,i),this.context.restore()}},{key:"drawRectangle",value:function(t,e,n,i,o,r){this.context.fillStyle=r,this.context.lineWidth=5,this.context.save(),this.context.translate(t,e),this.context.rotate(o),this.context.translate(-t,-e),this.context.fillRect(t,e,n,i),this.context.restore()}},{key:"drawText",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#000",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"64px arial";this.context.save(),this.context.font=r;var s=this.context.measureText(e).width;this.context.restore(),this.context.save(),this.context.font=r;var c=this.context.measureText("m").width;this.context.restore(),this.context.save(),this.context.font=r,this.context.fillStyle=o;var a=i?t.x-s/2:t.x,h=i?t.y-s/2:t.y;this.context.textBaseline="top",this.context.translate(a+s/2,h+c/2),this.context.rotate(n),this.context.translate(-(a+s/2),-(h+c/2)),this.context.fillText(e,a,t.y),this.context.restore()}},{key:"drawPoints",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.context.beginPath(),this.context.strokeStyle=e,this.context.fillStyle=n,this.context.lineWidth=3,this.context.moveTo(t[0].x,t[0].y);for(var o=1;o<t.length;o++)this.context.lineTo(t[o].x,t[o].y);i&&this.context.closePath(),this.context.fill(),this.context.stroke()}},{key:"getTextWidth",value:function(t,e){this.context.save(),this.context.font=e;var n=this.context.measureText(t).width;return this.context.restore(),n}},{key:"getFontHeight",value:function(t){this.context.save(),this.context.font=t;var e=this.context.measureText("m").width;return this.context.restore(),e}},{key:"drawTexture",value:function(t){t.ready&&(this.context.save(),this.context.translate(t.center.x,t.center.y),this.context.rotate(t.rotation),this.context.translate(-t.center.x,-t.center.y),this.context.drawImage(t.image,t.center.x-t.width/2,t.center.y-t.height/2,t.width,t.height),this.context.restore())}},{key:"drawSubTexture",value:function(t,e,n,i,o){if(t.ready){var r=t.getBounds(e);this.context.save(),this.context.translate(n.x,n.y),this.context.rotate(i),this.context.translate(-n.x,-n.y),this.context.drawImage(t.image,r.x,r.y,r.w,r.h,n.x-o.w/2,n.y-o.h/2,o.w,o.h),this.context.restore()}}},{key:"createGradient",value:function(t,e){return this.context.createLinearGradient(t.x,t.y,e.x,e.y)}},{key:"middleX",get:function(){return this.width/2}},{key:"width",get:function(){return this.context.canvas.width}}]),e}();exports.CanvasRenderer=i;
},{}],"hqBI":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function t(n){var r=this;e(this,t),Object.defineProperty(this,"htmlElement",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"_handlers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_inputBuffer",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"process",{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var e in r._inputBuffer)if(r._inputBuffer.hasOwnProperty(e))for(var t=0;r._handlers[e]&&t<r._handlers[e].length;t++){var n=r._inputBuffer[e];r._handlers[e][t]({ev:n,pos:r.getPos(n)})}r._inputBuffer={}}}),Object.defineProperty(this,"_addEventListeners",{enumerable:!0,configurable:!0,writable:!0,value:function(){r.htmlElement.addEventListener("click",r._handleInput),r.htmlElement.addEventListener("mousemove",r._handleInput)}}),Object.defineProperty(this,"_removeEventListeners",{enumerable:!0,configurable:!0,writable:!0,value:function(){r.htmlElement.removeEventListener("click",r._handleInput),r.htmlElement.removeEventListener("mousemove",r._handleInput)}}),Object.defineProperty(this,"_handleInput",{enumerable:!0,configurable:!0,writable:!0,value:function(e){"click"!==e.type&&"mousemove"!==e.type||(r._inputBuffer[e.type]=e)}}),this._addEventListeners()}return n(t,[{key:"destroy",value:function(){this._removeEventListeners(),this._handlers={}}},{key:"resetHandlers",value:function(){this._handlers={}}},{key:"clearInputBuffer",value:function(){this._inputBuffer={}}},{key:"register",value:function(e,t){this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push(t)}},{key:"getPos",value:function(e){var t=this.htmlElement.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;return{x:n*(1024/t.width),y:r*(1024/t.height)}}}]),t}();exports.default=r;
},{}],"MHfX":[function(require,module,exports) {
"use strict";function e(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function a(e,a){for(var i=0;i<a.length;i++){var l=a[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function i(e,i,l){return i&&a(e.prototype,i),l&&a(e,l),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameAudio=void 0;var l=function(){function a(i){var l=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4?arguments[4]:void 0;e(this,a),Object.defineProperty(this,"source",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"delay",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"loop",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"volume",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"elapsedTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"audioEl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"update",{enumerable:!0,configurable:!0,writable:!0,value:function(e){l.audioEl||(l.elapsedTime+=e,l.elapsedTime>=l.delay&&(l.audioEl=new Audio(l.source),l.audioEl.volume=l.volume,l.audioEl.play().then(l.callback)))}}),Object.defineProperty(this,"pause",{enumerable:!0,configurable:!0,writable:!0,value:function(){l.audioEl&&l.audioEl.pause()}}),Object.defineProperty(this,"play",{enumerable:!0,configurable:!0,writable:!0,value:function(){l.audioEl&&l.audioEl.play()}}),Object.defineProperty(this,"destory",{enumerable:!0,configurable:!0,writable:!0,value:function(){l.audioEl.pause()}})}return i(a,[{key:"done",get:function(){return this.audioEl&&this.audioEl.played&&!this.loop}}]),a}();exports.GameAudio=l;
},{}],"rydY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioSystem=void 0;var e=require("../Audio/Audio");function i(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var o=function o(){var a=this;i(this,o),Object.defineProperty(this,"audio",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"addAudio",{enumerable:!0,configurable:!0,writable:!0,value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;a.audio.push(new e.GameAudio(i,o,t,u,r))}}),Object.defineProperty(this,"update",{enumerable:!0,configurable:!0,writable:!0,value:function(e){for(var i=a.audio.length-1;i>=0;i--)a.audio[i].update(e),a.audio[i].done?a.audio.splice(i,1):a.audio[i].update(e)}}),Object.defineProperty(this,"clearAllSounds",{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var e=0;e<a.audio.length;e++)a.audio[e].pause();a.audio.length=0}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var e=0;e<a.audio.length;e++)a.audio[e].destory();a.audio.length=0}})};exports.AudioSystem=o;
},{"../Audio/Audio":"MHfX"}],"BIVR":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function r(t,n){var i=this;e(this,r),Object.defineProperty(this,"previousTimeStamp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cr",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isGameOver",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"internalProcessInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"internalUpdate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"internalRender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:function(){i.previousTimeStamp=performance.now(),requestAnimationFrame(i.gameLoop)}}),Object.defineProperty(this,"clearBaseInternals",{enumerable:!0,configurable:!0,writable:!0,value:function(){i.internalProcessInput=function(){},i.internalRender=function(){},i.internalUpdate=function(){}}}),Object.defineProperty(this,"gameLoop",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var r=e-i.previousTimeStamp;i.previousTimeStamp=e,i.processInput(r),i.update(r),i.render(),i.isGameOver||requestAnimationFrame(i.gameLoop)}}),Object.defineProperty(this,"processInput",{enumerable:!0,configurable:!0,writable:!0,value:function(e){i.internalProcessInput(e)}}),Object.defineProperty(this,"update",{enumerable:!0,configurable:!0,writable:!0,value:function(e){i.internalUpdate(e)}}),Object.defineProperty(this,"render",{enumerable:!0,configurable:!0,writable:!0,value:function(){i.internalRender(i.cr)}}),this.cr=new n(t)};exports.default=r;
},{}],"wE4H":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(r,n,i,a){e(this,t),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"w",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"h",{enumerable:!0,configurable:!0,writable:!0,value:a})}return r(t,[{key:"inBounds",value:function(e){return e.x>=this.x&&e.x<=this.x+this.w&&e.y>=this.y&&e.y<=this.y+this.h}}]),t}();exports.default=n;
},{}],"y0pa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){return function(e){var l,o,n,d=t.bounds,i=d.x,r=d.y,u=d.w,f=d.h;e.drawRectangle(i,r,u,f,0,null!==(l=null===(o=t.style)||void 0===o?void 0:o.fill)&&void 0!==l?l:"#000");var a=t.text,v=a.content,x=a.font,s=(e.getTextWidth(v,x)-u)/2,c=(e.getFontHeight(x)-f)/2;e.drawText({x:i-s,y:r-c},v,0,!1,null!==(n=t.text.fill)&&void 0!==n?n:"#fff",x)}},e=t;exports.default=e;
},{}],"LnjR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Renderers/ButtonRenderer")),t=r(require("../../Engine/Geometry/Rectangle"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function r(i){var u=this;n(this,r),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"internalMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"internalMouseClick",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"internalRender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"refresh",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"buttons",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"buttonW",{enumerable:!0,configurable:!0,writable:!0,value:400}),Object.defineProperty(this,"buttonX",{enumerable:!0,configurable:!0,writable:!0,value:(1024-this.buttonW)/2}),Object.defineProperty(this,"renderers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"createRenderersFromButtons",{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var t=0;t<u.buttons.length;t++)u.renderers.push((0,e.default)(u.buttons[t]))}}),Object.defineProperty(this,"clearRenderers",{enumerable:!0,configurable:!0,writable:!0,value:function(){console.log("hello!"),u.renderers=[]}}),Object.defineProperty(this,"findMouseClickOnButtons",{enumerable:!0,configurable:!0,writable:!0,value:function(e){for(var t=0;t<u.buttons.length;t++)if(u.buttons[t].bounds.inBounds(e.pos))return void u.buttons[t].onSelect()}}),Object.defineProperty(this,"resetMouseClick",{enumerable:!0,configurable:!0,writable:!0,value:function(){u.internalMouseClick=u.findMouseClickOnButtons}}),Object.defineProperty(this,"mouseClick",{enumerable:!0,configurable:!0,writable:!0,value:function(e){u.internalMouseClick(e)}}),Object.defineProperty(this,"renderButtons",{enumerable:!0,configurable:!0,writable:!0,value:function(e){e.drawText({x:e.middleX,y:100},u.title,0,!0);for(var t=0;t<u.renderers.length;t++)u.renderers[t](e)}}),Object.defineProperty(this,"render",{enumerable:!0,configurable:!0,writable:!0,value:function(e){e.clear(),u.internalRender(e)}}),Object.defineProperty(this,"getXFromW",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return(1024-e)/2}}),Object.defineProperty(this,"getXAndW",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return{x:u.getXAndW(e),w:e}}}),Object.defineProperty(this,"createBackButton",{enumerable:!0,configurable:!0,writable:!0,value:function(e,r){var n=u.buttonW+50,i=u.getXFromW(n);u.buttons.push({bounds:new t.default(i,e+=200,n,100),text:{content:"Back To Menu",font:"64px arial"},onSelect:r})}}),this.internalMouseClick=this.findMouseClickOnButtons,this.internalRender=this.renderButtons};exports.default=i;
},{"../Renderers/ButtonRenderer":"y0pa","../../Engine/Geometry/Rectangle":"wE4H"}],"l9e6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){return function(t){var o,l,n,r;t.drawText(e.pos,e.content,null!==(o=e.rotation)&&void 0!==o?o:0,null!==(l=e.centered)&&void 0!==l&&l,null!==(n=e.fill)&&void 0!==n?n:"#000",null!==(r=e.font)&&void 0!==r?r:"64px arial")}},t=e;exports.default=t;
},{}],"rwWD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./BaseScreen")),e=r(require("../../Engine/Renderers/TextRenderer"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){return function(){var e,r=s(t);if(f()){var n=s(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return i(this,e)}}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(r){a(i,t.default);var n=u(i);function i(t){var r;o(this,i),r=n.call(this,"Credits");for(var u=200,c=["This work was done by Matt Bishop.","I was him who did it.","Some people just want to watch the world burn $","This really is Old main is burning...","5 hours? No stress (hahaha...)","This game has a nice style to it, minimal","Shoutout to my wife for getting me food and drink"],f=0;f<c.length;f++)r.renderers.push((0,e.default)({content:"".concat(c[f]),pos:{x:200,y:u+=70},font:"32px arial"}));return r.createBackButton(u,t),r.createRenderersFromButtons(),r}return i}();exports.default=p;
},{"./BaseScreen":"LnjR","../../Engine/Renderers/TextRenderer":"l9e6"}],"cDEN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortScores=void 0;var e=function(e,r){return e.value>r.value?-1:e.value===r.value?0:1};exports.sortScores=e;
},{}],"Xcyd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../Interfaces/IHighScore");function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var a=function e(){r(this,e)};exports.default=a,Object.defineProperty(a,"storageKey",{enumerable:!0,configurable:!0,writable:!0,value:"@mini-game-high-scores"}),Object.defineProperty(a,"clear",{enumerable:!0,configurable:!0,writable:!0,value:function(){localStorage.removeItem(a.storageKey)}}),Object.defineProperty(a,"getHighScores",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=localStorage[a.storageKey];return e?JSON.parse(e):{easy:{time:[],numMoves:[]},hard:{time:[],numMoves:[]}}}}),Object.defineProperty(a,"addScore",{enumerable:!0,configurable:!0,writable:!0,value:function(r,t,o,n){for(var i=a.getHighScores(),l=i[n],u=0,s=[{array:l.time,value:t},{array:l.numMoves,value:o}];u<s.length;u++){var c=s[u],f=c.array,g=c.value;f.push({username:r,value:g}),f.sort(e.sortScores),f.length>5&&f.splice(0,1)}localStorage[a.storageKey]=JSON.stringify(i)}});
},{"../Interfaces/IHighScore":"cDEN"}],"nA6V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./BaseScreen")),r=n(require("../../Engine/Managers/HighScoreManager")),t=n(require("../../Engine/Renderers/TextRenderer"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e){return function(){var r,t=l(e);if(f()){var n=l(this).constructor;r=Reflect.construct(t,arguments,n)}else r=t.apply(this,arguments);return c(this,r)}}function c(e,r){return!r||"object"!==o(r)&&"function"!=typeof r?i(e):r}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&y(e,r)}function y(e,r){return(y=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var p=function(n){s(c,e.default);var o=a(c);function c(e){var n;return u(this,c),n=o.call(this,"High Scores"),Object.defineProperty(i(n),"onBack",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(i(n),"highScoreTextPairs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(i(n),"createScreen",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.renderers.length=0,n.buttons.length=0;var e=r.default.getHighScores();n.makeColumn("Easy",e.easy,{x:150,y:200}),n.makeColumn("Hard",e.hard,{x:600,y:200}),n.createBackButton(650,n.onBack),n.createRenderersFromButtons()}}),Object.defineProperty(i(n),"makeColumn",{enumerable:!0,configurable:!0,writable:!0,value:function(e,r,o){var u=0;n.renderers.push((0,t.default)({content:e,pos:{x:o.x,y:o.y},font:"48px arial"})),u+=50,n.renderers.push((0,t.default)({content:"Time",pos:{x:o.x,y:o.y+u},font:"32px arial"}));return r&&r.time&&r.time.length>0?u+=n.createRenderersFromScores(r.time,{x:o.x+30,y:o.y+u}):(u+=50,u+=n.createRenderDots({x:o.x+30,y:o.y+u})),n.renderers.push((0,t.default)({content:"Number of Moves",pos:{x:o.x,y:o.y+u},font:"32px arial"})),r&&r.numMoves&&r.numMoves.length>0?u+=n.createRenderersFromScores(r.numMoves,{x:o.x+30,y:o.y+u}):(u+=50,u+=n.createRenderDots({x:o.x+30,y:o.y+u})),u}}),Object.defineProperty(i(n),"createRenderersFromScores",{enumerable:!0,configurable:!0,writable:!0,value:function(e,r){var o=0;o+=50;for(var u=0;u<e.length;u++)n.renderers.push((0,t.default)({content:"".concat(u+1,". ").concat(e[u].username),pos:{x:r.x,y:r.y+o},font:"32px arial"})),n.renderers.push((0,t.default)({content:e[u].value.toString(),pos:{x:r.x+225,y:r.y+o},font:"32px arial"})),o+=50;return o}}),Object.defineProperty(i(n),"createRenderDots",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return n.renderers.push((0,t.default)({content:"(NO SCORES)",pos:{x:e.x,y:e.y},font:"32px arial"})),50}}),Object.defineProperty(i(n),"refresh",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.createScreen()}}),n.createScreen(),n}return c}();exports.default=p;
},{"./BaseScreen":"LnjR","../../Engine/Managers/HighScoreManager":"Xcyd","../../Engine/Renderers/TextRenderer":"l9e6"}],"PBJK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../../Engine/Geometry/Rectangle")),t=o(require("./BaseScreen")),n=o(require("./Credits")),r=o(require("./HighScores"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return function(){var t,n=l(e);if(s()){var r=l(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return f(this,t)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(o){p(f,t.default);var u=i(f);function f(t){var o;c(this,f),o=u.call(this,"Old Main is burning"),Object.defineProperty(a(o),"screens",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(a(o),"transitionToScreen",{enumerable:!0,configurable:!0,writable:!0,value:function(e){o.screens[e].refresh&&o.screens[e].refresh(),o.internalRender=o.screens[e].render,o.internalMouseClick=o.screens[e].mouseClick}}),Object.defineProperty(a(o),"returnToMenu",{enumerable:!0,configurable:!0,writable:!0,value:function(){o.internalRender=o.renderButtons,o.resetMouseClick()}});var i=250,s=o.buttonW+150,l=o.getXFromW(s);o.buttons.push({bounds:new e.default(l,i,s,100),text:{content:"New Game - Easy",font:"64px arial"},onSelect:function(){return t("easy")}}),o.buttons.push({bounds:new e.default(l,i+=200,s,100),text:{content:"New Game - Hard",font:"64px arial"},onSelect:function(){return t("hard")}});for(var p=[r.default,n.default],b=function(t){var n=new p[t](o.returnToMenu);o.screens.push(n),o.buttons.push({bounds:new e.default(o.buttonX,i+=200,o.buttonW,100),text:{content:n.title,font:"64px arial"},onSelect:function(){return o.transitionToScreen(t)}})},y=0;y<p.length;y++)b(y);return o.createRenderersFromButtons(),o}return f}();exports.default=y;
},{"../../Engine/Geometry/Rectangle":"wE4H","./BaseScreen":"LnjR","./Credits":"rwWD","./HighScores":"nA6V"}],"JLG1":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(i,n,r){e(this,t),Object.defineProperty(this,"interval",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"numTimes",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"timeSinceLastEvent",{enumerable:!0,configurable:!0,writable:!0,value:0})}return i(t,[{key:"update",value:function(e){this.timeSinceLastEvent+=e,this.timeSinceLastEvent>this.interval&&(this.timeSinceLastEvent-=this.interval,this.numTimes--,this.callback&&this.callback())}},{key:"timesLeft",get:function(){return this.numTimes}}]),t}();exports.default=n;
},{}],"Gjgu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../Events/Event"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function t(){var r=this;n(this,t),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"addEvent",{enumerable:!0,configurable:!0,writable:!0,value:function(t,n,a){r.events.push(new e.default(t,n,a))}}),Object.defineProperty(this,"update",{enumerable:!0,configurable:!0,writable:!0,value:function(e){for(var t=0;t<r.events.length;t++)r.events[t].timesLeft<=0?(r.events.splice(t,1),t--):r.events[t].update(e)}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:function(){r.events.length=0}})};exports.default=r;
},{"../Events/Event":"JLG1"}],"K5AK":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Texture=void 0;var i=function(){function t(r,i,n){var a=this;e(this,t),Object.defineProperty(this,"_center",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_ready",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:new Image}),Object.defineProperty(this,"_rotation",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._image.onload=function(){a._ready=!0;var e=a._image.width/a._image.height;a._width=n*e,a._height=n},this._image.src=i,this._center=r}return r(t,[{key:"ready",get:function(){return this._ready}},{key:"center",get:function(){return this._center}},{key:"image",get:function(){return this._image}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),t}();exports.Texture=i;
},{}],"bBKB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../Engine/Graphics/Texture"),t=r(require("../../Engine/Geometry/Rectangle"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var u=function(){function r(t,i,o,u){n(this,r),Object.defineProperty(this,"wh",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"initialRowAndCol",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"texture",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentRenderPos",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_correctPosition",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_currentIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_currentRowAndCol",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"justMoved",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.currentRenderPos=t,this.texture=new e.Texture(this.currentRenderPos,i,o),this._correctPosition=t,this._currentRowAndCol={row:u.row,col:u.col}}return o(r,[{key:"render",value:function(e){e.drawTexture(this.texture),e.drawStrokeRect(this.currentRenderPos.x-this.wh/2,this.currentRenderPos.y-this.wh/2,this.wh,this.wh,"#000")}},{key:"correctPosition",get:function(){return this._correctPosition}},{key:"center",get:function(){return this.currentRenderPos},set:function(e){this.currentRenderPos=e}},{key:"bounds",get:function(){return new t.default(this.currentRenderPos.x-this.wh/2,this.currentRenderPos.y-this.wh/2,this.wh,this.wh)}},{key:"currentIndex",get:function(){return this._currentIndex},set:function(e){this._currentIndex=e}},{key:"rowAndCol",get:function(){return this._currentRowAndCol}},{key:"atOriginalRowAndCol",get:function(){return this.initialRowAndCol.row===this._currentRowAndCol.row&&this.initialRowAndCol.col===this._currentRowAndCol.col}}]),r}();exports.default=u;
},{"../../Engine/Graphics/Texture":"K5AK","../../Engine/Geometry/Rectangle":"wE4H"}],"Y0FI":[function(require,module,exports) {
"use strict";function o(o){for(var r=o,e=r.length-1;e>0;e--){var n=Math.floor(Math.random()*e),l={x:r[e].center.x,y:r[e].center.y,row:r[e].rowAndCol.row,col:r[e].rowAndCol.col},c={x:r[n].center.x,y:r[n].center.y,row:r[n].rowAndCol.row,col:r[n].rowAndCol.col};r[e].center.x=c.x,r[e].center.y=c.y,r[e].rowAndCol.row=c.row,r[e].rowAndCol.col=c.col,r[n].center.x=l.x,r[n].center.y=l.y,r[n].rowAndCol.row=l.row,r[n].rowAndCol.col=l.col}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffle=o;
},{}],"hUAp":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.distSqrd=r,exports.dist=n,exports.diff=o,exports.default=void 0;var t=function t(){e(this,t),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:void 0})};function r(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}function n(e,t){return Math.sqrt(r(e,t))}function o(e,t){return{x:t.x-e.x,y:t.y-e.y}}exports.default=t;
},{}],"OyFI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../Engine/Math/Vec2");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var r=function(){function i(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0;e(this,i),Object.defineProperty(this,"loop",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"onEndPath",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"points",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"curPointIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"curDistanceTraveled",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"addPoint",{enumerable:!0,configurable:!0,writable:!0,value:function(e){t.points.push(e)}})}return n(i,[{key:"travel",value:function(e){var i=this.curPointIndex+1;if(this.curPointIndex>=this.points.length-1){if(!this.loop)return this.onEndPath(),this.points[this.points.length-1];this.curPointIndex=this.points.length-1,i=0}var n=(0,t.dist)(this.points[this.curPointIndex],this.points[i]);for(this.curDistanceTraveled+=e;this.curDistanceTraveled>=n;)if(this.curDistanceTraveled-=n,this.loop?(this.curPointIndex=(this.curPointIndex+1)%this.points.length,i=0===this.curPointIndex?1:this.curPointIndex+1):(this.curPointIndex++,i=this.curPointIndex+1),this.curPointIndex>=this.points.length-1){if(!this.loop)return this.onEndPath(),this.points[this.points.length-1];i=0}var r=this.points[this.curPointIndex],o=this.points[i];n=(0,t.dist)(r,o);var s=(0,t.diff)(r,o),u=this.curDistanceTraveled/n;return{x:r.x+s.x*u,y:r.y+s.y*u}}},{key:"lengthSquared",get:function(){for(var e=0,i=0;i<this.points.length;i++){var n=i+1;if(n>=this.points.length)return e;e+=(0,t.distSqrd)(this.points[i],this.points[n])}return e}},{key:"length",get:function(){return Math.sqrt(this.lengthSquared)}},{key:"numberOfPoints",get:function(){return this.points.length}}]),i}();exports.default=r;
},{"../../Engine/Math/Vec2":"hUAp"}],"ixda":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createColorTransition=a,exports.Colors=exports.Color=void 0;var r=function r(){e(this,r),Object.defineProperty(this,"r",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"g",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:1})};function a(e,r,a){return{r:(e.r-r.r)/a,g:(e.g-r.g)/a,b:(e.b-r.b)/a,a:(e.a-r.a)/a}}exports.Color=r;var t=function r(){e(this,r)};exports.Colors=t,Object.defineProperty(t,"white",{enumerable:!0,configurable:!0,writable:!0,value:{r:255,g:255,b:255,a:1}}),Object.defineProperty(t,"clear",{enumerable:!0,configurable:!0,writable:!0,value:{r:255,g:255,b:255,a:0}}),Object.defineProperty(t,"black",{enumerable:!0,configurable:!0,writable:!0,value:{r:0,g:0,b:0,a:1}});
},{}],"hSdK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Particle=void 0;var e=require("./Color");function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,r,t){return r&&o(e.prototype,r),t&&o(e,t),e}var i=function(){function o(t){var i=this;r(this,o),Object.defineProperty(this,"props",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"elapsedTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"colorTransition",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fading",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"update",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var r=i.props,o=r.speed,t=r.direction;i.center.x+=o*t.x*e,i.center.y+=o*t.y*e,i.elapsedTime+=e,i.updateColor(e),i.props.rotation+=.5*o}}),Object.defineProperty(this,"updateColor",{enumerable:!0,configurable:!0,writable:!0,value:function(r){!i.fading&&i.elapsedTime>=i.props.lifetime-i.props.fadeTransition&&(i.fading=!0,i.colorTransition=(0,e.createColorTransition)(i.color,{r:i.color.r,g:i.color.g,b:i.color.b,a:0},i.props.fadeTransition)),i.color.r-=i.colorTransition.r*r,i.color.g-=i.colorTransition.g*r,i.color.b-=i.colorTransition.b*r,i.color.a-=i.colorTransition.a*r}}),this.color=t.fromColor,this.colorTransition=(0,e.createColorTransition)(t.fromColor,t.toColor,t.lifetime)}return t(o,[{key:"alive",get:function(){return this.elapsedTime<=this.props.lifetime}},{key:"center",get:function(){return this.props.center}},{key:"rotation",get:function(){return this.props.rotation}},{key:"fill",get:function(){return"rgb(".concat(this.color.r,",").concat(this.color.g,",").concat(this.color.b,")")}},{key:"size",get:function(){return this.props.size}}]),o}();exports.Particle=i;
},{"./Color":"ixda"}],"ZOs7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.random=void 0;var t,n=!1,r=0;exports.random=t,function(t){function a(t,a){var e=0,o=0,h=0;if(n)return n=!1,t+r*a;n=!0;do{h=(e=2*Math.random()-1)*e+(o=2*Math.random()-1)*o}while(h>=1);return h=Math.sqrt(-2*Math.log(h)/h),r=o*h,t+e*h*a}t.nextGaussian=a,t.nextRange=function(t,n){var r=n-t;return Math.floor(Math.random()*r+t)},t.nextCircleVector=function(){var t=2*Math.random()*Math.PI;return{x:Math.cos(t),y:Math.sin(t)}},t.nextAngleVector=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2*Math.PI,n=Math.random()*t;return{x:Math.cos(n),y:Math.sin(n)}},t.nextAngleInCone=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI/2,r=n/2,e=t-r+(a(r,n/4)+n);return{x:Math.cos(e),y:Math.sin(e)}}}(t||(exports.random=t={}));
},{}],"hHSf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParticleSystem=void 0;var e=require("../Graphics/Particle"),r=require("../Math/random");function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function t(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function a(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}var i=function(){function t(){var a=this;o(this,t),Object.defineProperty(this,"_particles",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"update",{enumerable:!0,configurable:!0,writable:!0,value:function(e){for(var r=a._particles.length-1;r>=0;r--)a._particles[r].update(e),a._particles[r].alive||a._particles.splice(r,1)}}),Object.defineProperty(this,"sparks",{enumerable:!0,configurable:!0,writable:!0,value:function(o,t,i){for(var n=0;n<1e3;n++){var s=Math.abs(r.random.nextGaussian(i.size.mean,i.size.stdev)),l=Math.abs(r.random.nextGaussian(i.speed.mean,i.speed.stdev)),f=new e.Particle({center:{x:o.x,y:o.y},size:{x:s,y:s},rotation:0,speed:l,direction:r.random.nextCircleVector(),lifetime:r.random.nextGaussian(i.lifetime.mean,i.lifetime.stdev),fromColor:{r:i.fromColor.r,g:i.fromColor.g,b:i.fromColor.b,a:i.fromColor.a},toColor:{r:i.toColor.r,g:i.toColor.g,b:i.toColor.b,a:i.toColor.a},fadeTransition:100});a._particles.push(f)}}})}return a(t,[{key:"shipThrust",value:function(o,t,a){for(var i=0;i<5;i++){var n=Math.abs(r.random.nextGaussian(a.size.mean,a.size.stdev)),s=Math.abs(r.random.nextGaussian(a.speed.mean,a.speed.stdev)),l=new e.Particle({center:o,size:{x:n,y:n},rotation:0,speed:s,direction:r.random.nextAngleInCone(t),lifetime:r.random.nextGaussian(a.lifetime.mean,a.lifetime.stdev),fromColor:{r:a.fromColor.r,g:a.fromColor.g,b:a.fromColor.b,a:a.fromColor.a},toColor:{r:a.toColor.r,g:a.toColor.g,b:a.toColor.b,a:a.toColor.a},fadeTransition:50});this._particles.push(l)}}},{key:"shipCrash",value:function(o,t){for(var a=0;a<1e3;a++){var i=Math.abs(r.random.nextGaussian(t.size.mean,t.size.stdev)),n=Math.abs(r.random.nextGaussian(t.speed.mean,t.speed.stdev)),s=new e.Particle({center:{x:o.x,y:o.y},size:{x:i,y:i},rotation:0,speed:n,direction:r.random.nextCircleVector(),lifetime:r.random.nextGaussian(t.lifetime.mean,t.lifetime.stdev),fromColor:{r:t.fromColor.r,g:t.fromColor.g,b:t.fromColor.b,a:t.fromColor.a},toColor:{r:t.toColor.r,g:t.toColor.g,b:t.toColor.b,a:t.toColor.a},fadeTransition:100});this._particles.push(s)}}},{key:"particles",get:function(){return this._particles}}]),t}();exports.ParticleSystem=i;
},{"../Graphics/Particle":"hSdK","../Math/random":"ZOs7"}],"HbRM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParticleSystemRenderer=void 0;var e=function(e){return function(r){for(var t=e.particles,n=t.length-1;n>=0;n--){var i=t[n],o=i.center,a=i.rotation,s=i.size,c=i.fill;r.drawRectangle(o.x,o.y,s.x,s.y,a,c)}}};exports.ParticleSystemRenderer=e;
},{}],"vRSI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../Engine/Systems/EventSystem")),i=require("../Engine/Systems/AudioSystem"),t=s(require("../Engine/Managers/HighScoreManager")),r=s(require("./Objects/Tile")),l=require("./Helpers/shuffle"),n=s(require("./Objects/Path")),o=require("../Engine/Systems/ParticleSystem"),a=require("../Engine/Renderers/ParticleSystemRenderer");function s(e){return e&&e.__esModule?e:{default:e}}function u(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function d(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,i,t){return i&&d(e.prototype,i),t&&d(e,t),e}var c=1024,b=function(){function s(d){var f=this;u(this,s),Object.defineProperty(this,"onGameOver",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"currentTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"numberOfMoves",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"curDifficulty",{enumerable:!0,configurable:!0,writable:!0,value:"easy"}),Object.defineProperty(this,"movingTile",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"movingToPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"movingTileIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"particleSystem",{enumerable:!0,configurable:!0,writable:!0,value:new o.ParticleSystem}),Object.defineProperty(this,"particleSystemRenderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"travelPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pixels",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"milliSeconds",{enumerable:!0,configurable:!0,writable:!0,value:1e3}),Object.defineProperty(this,"speed",{enumerable:!0,configurable:!0,writable:!0,value:this.pixels/this.milliSeconds}),Object.defineProperty(this,"tiles",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"selectedTileIndex",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"filledPositions",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"internalUpdate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"internalRender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventSystem",{enumerable:!0,configurable:!0,writable:!0,value:new e.default}),Object.defineProperty(this,"audioSystem",{enumerable:!0,configurable:!0,writable:!0,value:new i.AudioSystem}),Object.defineProperty(this,"sparksParams",{enumerable:!0,configurable:!0,writable:!0,value:{size:{mean:2,stdev:.25},speed:{mean:.01,stdev:.01},lifetime:{mean:1e3,stdev:500},fromColor:{r:255,g:255,b:0,a:1},toColor:{r:255,g:255,b:0,a:1}}}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:function(){f.audioSystem.clearAllSounds(),f.createTiles(),f.startTimer(),f.internalUpdate=f.gameUpdate,f.internalRender=f.gameRender,f.particleSystem=new o.ParticleSystem,f.particleSystemRenderer=(0,a.ParticleSystemRenderer)(f.particleSystem)}}),Object.defineProperty(this,"render",{enumerable:!0,configurable:!0,writable:!0,value:function(e){f.internalRender(e)}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:function(){f.eventSystem.destroy(),f.audioSystem.destroy()}}),Object.defineProperty(this,"gameRender",{enumerable:!0,configurable:!0,writable:!0,value:function(e){e.clear(),f.drawCurrentTime(e),f.drawTiles(e),f.drawNumMoves(e),f.particleSystemRenderer(e)}}),Object.defineProperty(this,"drawBackground",{enumerable:!0,configurable:!0,writable:!0,value:function(e){e.drawRectangle(0,0,1024,1024,0,"#000")}}),Object.defineProperty(this,"drawTiles",{enumerable:!0,configurable:!0,writable:!0,value:function(e){for(var i=0;i<f.tiles.length;i++)f.tiles[i].render(e)}}),Object.defineProperty(this,"drawCurrentTime",{enumerable:!0,configurable:!0,writable:!0,value:function(e){e.drawText({x:100,y:100},"Time: ".concat(f.currentTime))}}),Object.defineProperty(this,"drawNumMoves",{enumerable:!0,configurable:!0,writable:!0,value:function(e){e.drawText({x:500,y:100},"Num Moves: ".concat(f.numberOfMoves))}}),Object.defineProperty(this,"gameUpdate",{enumerable:!0,configurable:!0,writable:!0,value:function(e){f.eventSystem.update(e)}}),Object.defineProperty(this,"update",{enumerable:!0,configurable:!0,writable:!0,value:function(e){if(f.internalUpdate(e),f.particleSystem.update(e),f.movingTile){var i=f.speed*e,t=f.travelPath.travel(i);f.tiles[f.movingTileIndex].center.x=t.x,f.tiles[f.movingTileIndex].center.y=t.y}else f.handleSelectedTile(e)}}),Object.defineProperty(this,"mouseClick",{enumerable:!0,configurable:!0,writable:!0,value:function(e){f.getTileUnderMouse(e.pos)}}),Object.defineProperty(this,"handleSelectedTile",{enumerable:!0,configurable:!0,writable:!0,value:function(e){f.selectedTileIndex>=0&&(f.moveTileIfPossible(f.selectedTileIndex),f.selectedTileIndex=-1)}}),Object.defineProperty(this,"moveTileIfPossible",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var i=f.tiles[e].rowAndCol,t=i.row,r=i.col,l=f.getNumRowsAndCols();if(r-1>=0&&!f.filledPositions[t][r-1].filled){var n=f.filledPositions[t][r-1].point,o=n.x,a=n.y;return f.moveTileToPos(e,o,a,f.tiles[e].center.x,f.tiles[e].center.y),f.tiles[e].rowAndCol.col-=1,f.filledPositions[t][r].filled=!1,f.filledPositions[t][r-1].filled=!0,f.tiles[e].justMoved=!0,void(f.numberOfMoves+=1)}if(t+1<l&&!f.filledPositions[t+1][r].filled){var s=f.filledPositions[t+1][r].point,u=s.x,d=s.y;return f.moveTileToPos(e,u,d,f.tiles[e].center.x,f.tiles[e].center.y),f.tiles[e].rowAndCol.row+=1,f.filledPositions[t][r].filled=!1,f.filledPositions[t+1][r].filled=!0,f.tiles[e].justMoved=!0,void(f.numberOfMoves+=1)}if(r+1<l&&!f.filledPositions[t][r+1].filled){var c=f.filledPositions[t][r+1].point,b=c.x,v=c.y;return f.moveTileToPos(e,b,v,f.tiles[e].center.x,f.tiles[e].center.y),f.tiles[e].rowAndCol.col+=1,f.filledPositions[t][r].filled=!1,f.filledPositions[t][r+1].filled=!0,f.tiles[e].justMoved=!0,void(f.numberOfMoves+=1)}if(t-1>=0&&!f.filledPositions[t-1][r].filled){var m=f.filledPositions[t-1][r].point,y=m.x,g=m.y;return f.moveTileToPos(e,y,g,f.tiles[e].center.x,f.tiles[e].center.y),f.tiles[e].rowAndCol.row-=1,f.filledPositions[t][r].filled=!1,f.filledPositions[t-1][r].filled=!0,f.tiles[e].justMoved=!0,void(f.numberOfMoves+=1)}console.log("didn't move")}}),Object.defineProperty(this,"moveTileToPos",{enumerable:!0,configurable:!0,writable:!0,value:function(e,i,t,r,l){f.movingTile=!0,f.movingTileIndex=e,f.travelPath=new n.default(!1,function(){f.movingTile=!1,f.tiles[f.movingTileIndex].atOriginalRowAndCol&&f.tiles[f.movingTileIndex].justMoved&&(f.tiles[f.movingTileIndex].justMoved=!1,console.log("SHOOT OFF SPARKS"),f.particleSystem.sparks(f.tiles[f.movingTileIndex].center,100,f.sparksParams)),f.tiles.every(function(e){return e.atOriginalRowAndCol})&&f.eventSystem.addEvent(2e3,1,function(){f.endGame()})}),f.travelPath.addPoint({x:r,y:l}),f.travelPath.addPoint({x:i,y:t})}}),Object.defineProperty(this,"getTileUnderMouse",{enumerable:!0,configurable:!0,writable:!0,value:function(e){for(var i=0;i<f.tiles.length;i++)if(f.tiles[i].bounds.inBounds(e)){f.selectedTileIndex=i;break}}}),Object.defineProperty(this,"endGame",{enumerable:!0,configurable:!0,writable:!0,value:function(){f.audioSystem.clearAllSounds();var e=prompt("You finished!","Default");e||(e="Default"),e=e.substr(0,10),t.default.addScore(e,f.currentTime,f.numberOfMoves,f.curDifficulty),f.onGameOver()}}),Object.defineProperty(this,"createTiles",{enumerable:!0,configurable:!0,writable:!0,value:function(){f.tiles.length=0,f.filledPositions.length=0;for(var e="easy"===f.curDifficulty?128:64,i=e,t=f.getNumRowsAndCols(),n=(1024-i*t)/2+i/2,o=n,a=n,s=0;s<t;s++){f.filledPositions.push([]);for(var u=0;u<t;u++)f.filledPositions[s].push({filled:!0,point:{x:o+u*i,y:a+s*i}})}f.filledPositions[t-1][t-1].filled=!1;for(var d=[],c=0,b=0;b<t;b++)for(var v=0;v<t&&c!==t*t-1;v++)d.push(new r.default({x:o+v*i,y:a+b*i},"graphics/Tile".concat(e,"-").concat(c,".png"),i,{row:b,col:v})),c++;f.tiles=(0,l.shuffle)(d)}}),Object.defineProperty(this,"checkIfAnyAtOriginalRowAndCol",{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var e=0;e<f.tiles.length;e++)f.tiles[e].atOriginalRowAndCol&&f.tiles[e].justMoved&&(f.tiles[e].justMoved=!1,console.log("SHOOT OFF SPARKS"),f.particleSystem.sparks(f.tiles[e].center,100,f.sparksParams))}})}return f(s,[{key:"getNumRowsAndCols",value:function(){return"easy"===this.curDifficulty?2:8}},{key:"startTimer",value:function(){var e=this;this.currentTime=0,this.eventSystem.addEvent(1e3,1/0,function(){e.currentTime+=1})}},{key:"difficulty",set:function(e){this.curDifficulty=e,console.log("Status: Current difficulty is",e)}}]),s}();exports.default=b;
},{"../Engine/Systems/EventSystem":"Gjgu","../Engine/Systems/AudioSystem":"rydY","../Engine/Managers/HighScoreManager":"Xcyd","./Objects/Tile":"bBKB","./Helpers/shuffle":"Y0FI","./Objects/Path":"OyFI","../Engine/Systems/ParticleSystem":"hHSf","../Engine/Renderers/ParticleSystemRenderer":"HbRM"}],"cPP4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../Engine/Renderers/CanvasRenderer"),t=i(require("../Engine/Input/Mouse")),n=require("../Engine/Systems/AudioSystem"),r=i(require("../Engine/BaseComponents/GameLoop")),o=i(require("./Screens/Menu")),u=i(require("./GameModel"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e){return function(){var t,n=m(e);if(d()){var r=m(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return b(this,t)}}function b(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(i){y(c,r.default);var a=s(c);function c(r){var i;return l(this,c),i=a.call(this,r,e.CanvasRenderer),Object.defineProperty(p(i),"mouse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(p(i),"internalMouseClick",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(p(i),"internalMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(p(i),"menu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(p(i),"gameModel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(p(i),"audioSystem",{enumerable:!0,configurable:!0,writable:!0,value:new n.AudioSystem}),Object.defineProperty(p(i),"setupMenu",{enumerable:!0,configurable:!0,writable:!0,value:function(){i.mouse.clearInputBuffer(),i.clearAllInternals(),i.internalProcessInput=function(){i.mouse.process()},i.internalMouseClick=i.menu.mouseClick,i.internalRender=i.menu.render}}),Object.defineProperty(p(i),"setupNewGame",{enumerable:!0,configurable:!0,writable:!0,value:function(e){i.mouse.clearInputBuffer(),i.clearAllInternals(),i.internalProcessInput=function(){i.mouse.process()},i.internalRender=i.gameModel.render,i.internalUpdate=i.gameModel.update,i.internalMouseClick=i.gameModel.mouseClick,i.gameModel.difficulty=e,i.gameModel.start()}}),Object.defineProperty(p(i),"clearAllInternals",{enumerable:!0,configurable:!0,writable:!0,value:function(){i.clearBaseInternals(),i.internalMouseClick=function(){},i.internalMouseMove=function(){}}}),Object.defineProperty(p(i),"addMouseHandlers",{enumerable:!0,configurable:!0,writable:!0,value:function(){i.mouse.register("click",function(e){i.internalMouseClick(e)}),i.mouse.register("mousemove",function(e){i.internalMouseMove(e)})}}),Object.defineProperty(p(i),"destroy",{enumerable:!0,configurable:!0,writable:!0,value:function(){i.mouse.destroy(),i.audioSystem.destroy()}}),i.menu=new o.default(i.setupNewGame),i.gameModel=new u.default(i.setupMenu),i.mouse=new t.default(r),i.addMouseHandlers(),i}return f(c,[{key:"play",value:function(){this.setupMenu(),this.start()}}]),c}();exports.default=g;
},{"../Engine/Renderers/CanvasRenderer":"Kvru","../Engine/Input/Mouse":"hqBI","../Engine/Systems/AudioSystem":"rydY","../Engine/BaseComponents/GameLoop":"BIVR","./Screens/Menu":"PBJK","./GameModel":"vRSI"}],"B6dB":[function(require,module,exports) {
"use strict";var e=t(require("./Game/GamePlay"));function t(e){return e&&e.__esModule?e:{default:e}}var n=document.getElementById("game-canvas"),a=new e.default(n);a.play();var i=function(e){var t=e.target,a=t.innerWidth,i=t.innerHeight,r=(Math.min(a,i)-16).toString();n.style.width=r,n.style.height=r};window.addEventListener("resize",i),i({target:window});
},{"./Game/GamePlay":"cPP4"}]},{},["B6dB"], null)
//# sourceMappingURL=/src.7850e9b1.js.map